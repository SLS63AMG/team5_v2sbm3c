<!DOCTYPE html>
<html layout:decorate="~{th/layout}">
<div layout:fragment="content">
  <div class="title_line">메뉴 등록</div>
  
  <aside class="aside_right">
    <a href="javascript: location.reload();">새로 고침</a>
    <span class="menu_divide">|</span>
    <a th:href="@{|/th/menu/list_all?word=${word}&now_page=${now_page}|}">목록</a>
    <span class="menu_divide">|</span>
    <a th:href="@{|/th/menu/update/${menuVO.menuno}?word=${word}&now_page=${now_page}|}">수정</a>
    <span class="menu_divide">|</span>
    <a th:href="@{|/th/menu/delete/${menuVO.menuno}?word=${word}&now_page=${now_page}|}">삭제</a>
  </aside>
  
  <div th:replace="~{/th/menu/list_search_com::list_search_fragment}"></div>
  
  <div class="menu_line"></div>
    
  <div style="width: 50%; margin: 0px auto;">
    <!-- 폼에서 MenuVO를 바인딩 -->
    <form name="frm" method="post" action="/th/menu/create" th:object="${menuVO}" enctype="multipart/form-data">

      <!-- ★ 이 부분이 핵심: action="/th/menu/create" -->
      
      <!-- 메뉴 이름 -->
      <div>
        <label>메뉴 이름</label>
        <input type="text"
               th:field="*{name}"
               class="form-control"
               style="width:100%;"
               autofocus="autofocus" />
      </div>

      <!-- 메뉴 설명 -->
      <div style="margin-top:10px;">
        <label>메뉴 설명</label>
        <textarea th:field="*{explanation}"
                  rows="5"
                  class="form-control"
                  style="width:100%;"></textarea>
      </div>

      <!-- 가격 -->
      <div style="margin-top:10px;">
        <label>정가</label>
        <input type="number"
               th:field="*{price}"
               min="0"
               step="1000"
               class="form-control"
               style="width:50%;" />
      </div>

      <!-- 사진 업로드 -->
      <div style="margin-top:10px;">
        <label>메뉴 이미지</label>
        <!-- 파일 선택 필드 추가 -->
        <input type="file" 
               name="photoMF" 
               class="form-control" 
               style="width:100%;" />
      </div>
      
       <!-- 할인율 -->
      <div style="margin-top:10px;">
        <label>할인율 (%)</label>
        <input type="number"
               th:field="*{dc}"
               min="0"
               max="100"
               step="1"
               class="form-control"
               style="width:50%;" />
      </div>
      
      <!-- 판매가 -->
      <div style="margin-top:10px;">
        <label>판매가</label>
        <input type="number"
               th:field="*{saleprice}"
               min="0"
               step="100"
               class="form-control"
               style="width:50%;" />
      </div>
      
      <!-- 포인트 -->
      <div style="margin-top:10px;">
        <label>포인트</label>
        <input type="number"
               th:field="*{point}"
               min="0"
               step="10"
               class="form-control"
               style="width:50%;" />
      </div>

      <!-- 식당 번호 -->
      <div style="margin-top:10px;">
        <label>식당 번호</label>
        <input type="number"
               th:field="*{storeno}"
               min="0"
               class="form-control"
               style="width:50%;" />
      </div>
      

      <!-- 버튼 영역 -->
      <div class="content_body_bottom" style="margin-top:20px;">
        <button type="submit" class="btn btn-secondary btn-sm">등록</button>
        <button type="button" onclick="location.href='/th/menu/list_search'" class="btn btn-secondary btn-sm">목록</button>
      </div>
      
    </form>
  </div>
</div>
</html>
