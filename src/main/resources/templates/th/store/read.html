<!DOCTYPE html>
<html layout:decorate="~{th/layout}">
  <head>
    <style>
      /* 중앙 정렬 및 테이블 스타일 */
      .table {
        width: 100%;
        max-width: 800px;
        margin: 20px auto;
        border-collapse: collapse;
        font-size: 16px;
        table-layout: fixed;
      }

      .table td {
        border: 1px solid #ddd;
        padding: 12px;
        word-wrap: break-word;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      .table tr:nth-child(even) {
        background-color: #f9f9f9;
      }

      .table tr:hover {
        background-color: #f1f1f1;
      }

      .table td:first-child {
        font-weight: bold;
        background-color: #f4f4f4;
        width: 30%;
        text-align: left;
      }

      .table td:last-child {
        width: 70%;
        text-align: left;
      }

      /* 버튼 스타일 */
      .btn {
        display: inline-block;
        font-size: 16px;
        padding: 10px 20px;
        margin: 10px 5px;
        text-decoration: none;
        color: #fff;
        border-radius: 4px;
        cursor: pointer;
      }

      .btn-warning {
        background-color: #ffc107;
        border: 1px solid #ffc107;
      }

      .btn-warning:hover {
        background-color: #e0a800;
        border-color: #e0a800;
      }

      .btn-danger {
        background-color: #dc3545;
        border: 1px solid #dc3545;
      }

      .btn-danger:hover {
        background-color: #c82333;
        border-color: #c82333;
      }

      /* 제목 스타일 */
      .title_line {
        text-align: center;
        font-size: 24px;
        font-weight: bold;
        margin: 20px 0;
      }
      .menu-table img {
        width: 200px; /* 이미지 가로 크기 */
        height: auto; /* 비율 유지 */
        border: 1px solid #ddd; /* 테두리 추가 */
        border-radius: 5px; /* 둥근 모서리 */
        margin: 5px; /* 이미지 간격 */
      }

    </style>
  </head>
  <body>
    <div layout:fragment="content">
      <div class="title_line">음식점 상세 정보</div>

      <div style="width: 60%; margin: 0 auto;">
        <table class="table">
          <tr>
            <td>식당 이름</td>
            <td th:text="${storeVO.name}"></td>
          </tr>
          <tr>
            <td>업종</td>
            <td th:text="${storeVO.distinction}"></td>
          </tr>
          <tr>
            <td>리뷰 수</td>
            <td th:text="${storeVO.reviewcnt}"></td>
          </tr>
          <tr>
            <td>도로명 주소</td>
            <td th:text="${storeVO.address1}"></td>
          </tr>
          <tr>
            <td>상세 주소</td>
            <td th:text="${storeVO.address2}"></td>
          </tr>
          <tr>
            <td>영업 시간</td>
            <td th:text="${storeVO.busihours}"></td>
          </tr>
          <tr>
            <td>전화번호</td>
            <td th:text="${storeVO.tel}"></td>
          </tr>
          <tr>
            <td>예약 여부</td>
            <td th:text="${storeVO.reservation == 'Y' ? '가능' : '불가능'}"></td>
          </tr>
          <tr>
            <td>가게 등록 주소</td>
            <td>
              <a th:href="${storeVO.rsite}" target="_blank" th:text="${storeVO.rsite}"></a>
            </td>
          </tr>
          <tr>
            <td>지도 페이지 주소</td>
            <td>
              <a th:href="${storeVO.msite}" target="_blank" th:text="${storeVO.msite}"></a>
            </td>
          </tr>
          <tr>
            <td>평점</td>
            <td th:text="${storeVO.rating}"></td>
          </tr>
          <tr>
            <td>포스터</td>
            <td>
              <img th:src="@{|/store/storage/${storeVO.thumb1}|}" alt="음식점 이미지" style="max-width: 200px; height: auto;" />
            </td>
          </tr>
        </table>

        <div style="text-align: center; margin-top: 20px;">
          <a th:href="@{/th/store/update/{storeno}(storeno=${storeVO.storeno})}" class="btn btn-warning">수정</a>
          <a th:href="@{/th/store/delete/{storeno}(storeno=${storeVO.storeno})}" class="btn btn-danger">삭제</a>
        </div>
      </div>
      
            <!-- 메뉴 리스트 -->
      <div th:fragment="list_all_fragment">
          <table class="menu-table" style="width: 100%; border: 1px solid #ddd;">
            <colgroup>
              <col style="width: 8%;" />  <!-- 번호 -->
              <col style="width: 10%;" /> <!-- 메뉴명 -->
              <col style="width: 15%;" /> <!-- 사진 -->
              <col style="width: 30%;" /> <!-- 설명 -->
              <col style="width: 10%;" /> <!-- 가격 -->
              <col style="width: 10%;" /> <!-- 관리 -->
            </colgroup>
            <thead>
              <tr style="background-color: #f4f4f4; border: 1px solid #ddd;">
                <th style="border: 1px solid #ddd;">번호</th>
                <th style="border: 1px solid #ddd;">메뉴명</th>
                <th style="border: 1px solid #ddd;">사진</th>
                <th style="border: 1px solid #ddd;">설명</th>
                <th style="border: 1px solid #ddd;">가격</th>
                <th style="border: 1px solid #ddd;">관리</th>
              </tr>
            </thead>
            <tbody>
              <tr th:each="menuVO : ${list}" style="border: 1px solid #ddd;">
                <td style="border: 1px solid #ddd;" th:text="${menuVO.menuno}"></td>
                <td style="border: 1px solid #ddd;">
                  <a th:href="@{/th/menu/read/{menuno}(menuno=${menuVO.menuno})}" style="display:block;" th:text="${menuVO.name}">메뉴명</a>
                </td>
                <td>
                  <img th:src="@{|/menu/storage/${menuVO.photo}|}" alt="메뉴 이미지" class="menu-image" />
                </td>
                <td style="border: 1px solid #ddd;" th:text="${menuVO.explanation}"></td>
                <td style="border: 1px solid #ddd;" th:text="${menuVO.price}"></td>
                <td style="border: 1px solid #ddd;">
                  <a th:href="@{/th/menu/update/{menuno}(menuno=${menuVO.menuno})}">
                    <button class="btn btn-sm btn-warning">수정</button>
                  </a>
                  <a th:href="@{/th/menu/delete/{menuno}(menuno=${menuVO.menuno})}" onclick="return confirm('정말 삭제하시겠습니까?');">
                    <button class="btn btn-sm btn-danger">삭제</button>
                  </a>
                </td>
              </tr>
            </tbody>
          </table>

        <!-- 페이징 UI 필요 시 추가 -->
        <div class="Bottom_menu" th:utext="${paging}"></div>
      </div>
  </body>
</html>